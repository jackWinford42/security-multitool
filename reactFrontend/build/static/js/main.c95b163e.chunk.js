(this["webpackJsonpsecurity-multitool"]=this["webpackJsonpsecurity-multitool"]||[]).push([[0],{163:function(e,t,r){},176:function(e,t,r){},193:function(e,t,r){},198:function(e,t){},200:function(e,t){},215:function(e,t){},217:function(e,t){},245:function(e,t){},247:function(e,t){},248:function(e,t){},253:function(e,t){},255:function(e,t){},261:function(e,t){},263:function(e,t){},282:function(e,t){},294:function(e,t){},297:function(e,t){},319:function(e,t,r){},348:function(e,t,r){},350:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r(31),s=r.n(a),c=(r(193),r(4)),i=r.n(c),o=r(8),l=r(9),u=r(177),j=r.n(u),d=r(13),h=r(14),b=r(19),p=r(374),m=r(377),O=(r(319),r(1));function f(){var e=Object(b.c)((function(e){return e.currUser})),t=Object(O.jsxs)("h4",{children:["Welcome back ",e.username]});return Object(O.jsxs)("div",{className:"Landing",children:[Object(O.jsx)("h1",{children:"RAMT"}),Object(O.jsx)("h5",{children:"home of the Reputation Analyses Multi Tool"}),e.username?t:Object(O.jsxs)("p",{id:"authButtons",children:[Object(O.jsx)(m.a,{component:h.b,to:"/sign-up",className:"authButtons",children:Object(O.jsx)(p.a,{variant:"contained",children:"sign up"})}),Object(O.jsx)(m.a,{component:h.b,to:"/login",className:"authButtons",children:Object(O.jsx)(p.a,{variant:"contained",children:"log in"})})]})]})}var x=r(370),v=r(378),g=r(371),y=Object(x.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.text.secondary}}}));function w(e){var t=e.logout,r=y(),n=Object(b.c)((function(e){return e.currUser}));return Object(O.jsx)("div",{className:r.root,children:Object(O.jsx)(v.a,{position:"static",children:Object(O.jsxs)(g.a,{children:[Object(O.jsx)(m.a,{component:h.b,to:"/",children:Object(O.jsx)(p.a,{variant:"outlined",children:"RAMT"})}),Object(O.jsx)("div",{className:"position-absolute end-0",children:n.username?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(m.a,{component:h.b,to:"/email",children:Object(O.jsx)(p.a,{children:"Email"})}),Object(O.jsx)(m.a,{component:h.b,to:"/url",children:Object(O.jsx)(p.a,{children:"Url"})}),Object(O.jsx)(m.a,{component:h.b,to:"/home",children:Object(O.jsx)(p.a,{children:"Home"})}),Object(O.jsx)(m.a,{component:h.b,to:"/profile",children:Object(O.jsx)(p.a,{children:"Profile"})}),Object(O.jsx)(m.a,{component:h.b,to:"/",onClick:t,children:Object(O.jsx)(p.a,{children:"Log out"})})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(m.a,{component:h.b,to:"/sign-up",children:Object(O.jsx)(p.a,{children:"sign up"})}),Object(O.jsx)(m.a,{component:h.b,to:"/login",children:Object(O.jsx)(p.a,{children:"log in"})})]})})]})})})}var N=r(18),k=r(28),S=r(372),E=r(373),U=r(376);r(163);var C=function(e){var t=e.login,r=Object(d.f)();console.debug("Log in form");var a=Object(n.useState)({username:"",password:""}),s=Object(l.a)(a,2),c=s[0],u=s[1],j=Object(n.useState)([]),h=Object(l.a)(j,2),b=h[0],m=h[1];function f(e){return x.apply(this,arguments)}function x(){return(x=Object(o.a)(i.a.mark((function e(n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,t(c);case 3:(a=e.sent).worked?r.push("/"):m(a.errors);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){var t=e.target,r=t.name,n=t.value;u((function(e){return Object(k.a)(Object(k.a)({},e),{},Object(N.a)({},r,n))}))}return Object(O.jsx)("div",{className:"LoginForm col-md-6 col-lg-4",children:Object(O.jsx)(S.a,{children:Object(O.jsxs)(E.a,{children:[Object(O.jsxs)("form",{className:"form-inline",onSubmit:f,children:[Object(O.jsx)("label",{children:"Username:"}),Object(O.jsx)("input",{className:"form-control form-control-md",name:"username",placeholder:"username",value:c.username,onChange:v}),Object(O.jsx)("label",{children:"Password:"}),Object(O.jsx)("input",{className:"form-control form-control-md",name:"password",placeholder:"password",value:c.password,onChange:v}),Object(O.jsx)(p.a,{variant:"contained",color:"primary",className:"authButton",onClick:f,children:"log in"})]}),b.length?Object(O.jsx)(U.a,{color:"danger",children:b}):null]})})})};function _(e){var t=e.signup,r=Object(d.f)();console.debug("Sign up form");var a=Object(n.useState)({username:"",password:"",email:"",profile_pic:""}),s=Object(l.a)(a,2),c=s[0],u=s[1],j=Object(n.useState)([]),h=Object(l.a)(j,2),b=h[0],m=h[1];function f(e){return x.apply(this,arguments)}function x(){return(x=Object(o.a)(i.a.mark((function e(n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,t(c);case 3:(a=e.sent).worked?r.push("/"):m(a.errors);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){var t=e.target,r=t.name,n=t.value;u((function(e){return Object(k.a)(Object(k.a)({},e),{},Object(N.a)({},r,n))}))}return Object(O.jsx)("div",{className:"SignupForm col-md-6 col-lg-4",children:Object(O.jsx)(S.a,{className:"authFormCard",children:Object(O.jsxs)(E.a,{children:[Object(O.jsxs)("form",{className:"form-inline",onSubmit:f,children:[Object(O.jsx)("label",{children:"Username:"}),Object(O.jsx)("input",{className:"form-control form-control-md",name:"username",placeholder:"username",value:c.username,onChange:v}),Object(O.jsx)("label",{children:"Password:"}),Object(O.jsx)("input",{className:"form-control form-control-md",name:"password",placeholder:"password",value:c.password,onChange:v}),Object(O.jsx)("label",{children:"Email:"}),Object(O.jsx)("input",{className:"form-control form-control-md",name:"email",placeholder:"email",value:c.email,onChange:v}),Object(O.jsx)("label",{children:"Profile Picture Url:"}),Object(O.jsx)("input",{className:"form-control form-control-md",name:"profile_pic",placeholder:"url",value:c.profile_pic,onChange:v}),Object(O.jsx)(p.a,{variant:"contained",color:"primary",className:"authButton",onClick:f,children:"sign up"})]}),b.length>0&&b.map((function(e){return Object(O.jsx)(U.a,{color:"danger",children:e},e)}))]})})})}var T=r(180),H=r(51),P=r(181),A=r.n(P),I=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL||"http://localhost:3001",L=function(){function e(){Object(T.a)(this,e)}return Object(H.a)(e,null,[{key:"request",value:function(){var t=Object(o.a)(i.a.mark((function t(r){var n,a,s,c,o,l,u=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},a=u.length>2&&void 0!==u[2]?u[2]:"get",console.debug("API Call:",r,n,a),s="".concat(I,"/").concat(r),c={Authorization:"Bearer ".concat(e.token)},o="get"===a?n:{},t.prev=6,console.log(s),t.next=10,A()({url:s,method:a,data:n,params:o,headers:c});case 10:return t.abrupt("return",t.sent.data);case 13:throw t.prev=13,t.t0=t.catch(6),console.error("API Error:",t.t0.response),l=t.t0.response.data.error.message,Array.isArray(l)?l:[l];case 18:case"end":return t.stop()}}),t,null,[[6,13]])})));return function(e){return t.apply(this,arguments)}}()},{key:"signup",value:function(){var e=Object(o.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("auth/register",t,"post");case 2:return r=e.sent,e.abrupt("return",r.token);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(o.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("auth/token",t,"post");case 2:return r=e.sent,e.abrupt("return",r.token);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCurrUser",value:function(){var e=Object(o.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("users/".concat(t));case 2:return r=e.sent,e.abrupt("return",r.user);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"investigate",value:function(){var t=Object(o.a)(i.a.mark((function t(r){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request("investigate",r,"post");case 2:return n=t.sent,t.next=5,this.request("uHist/".concat(e.user.email),n.data,"post");case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"delCurrUser",value:function(){var e=Object(o.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("users/".concat(t),{},"delete");case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editCurrUser",value:function(){var t=Object(o.a)(i.a.mark((function t(r){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.user.email),t.next=3,this.request("users/".concat(e.user.email),r,"patch");case 3:return n=t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"dumpUserHistory",value:function(){var e=Object(o.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("uHist/".concat(t,"/dump"),{},"delete");case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserHistory",value:function(){var e=Object(o.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("uHist/".concat(t));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSiteHistory",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("siteHist/");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();r(176);function B(e){var t=e.data;console.debug("RESPONSE COMPONENT");var r=100-t.fraud_score;return t.valid?Object(O.jsxs)("div",{className:"Response",children:[Object(O.jsxs)("h5",{children:["This email is ",r,"% safe"]}),Object(O.jsx)("div",{className:"progress",children:Object(O.jsx)("div",{id:"progressBar",className:"progress-bar",role:"progressbar",style:{width:"".concat(r,"%")},"aria-valuenow":r,"aria-valuemin":"0","aria-valuemax":"100"})}),function(e){switch(e){case 0:return Object(O.jsx)("p",{children:"invalid email address"});case 1:return Object(O.jsx)("p",{children:"the dns for this email is valid, but the mail server is unreachable"});case 2:return Object(O.jsx)("p",{children:"the dns for this email is valid, but there is a temporary mail rejection error"});case 3:return Object(O.jsx)("p",{children:"the dns for this email is valid, and accepts all mail"});case 4:return Object(O.jsx)("p",{children:"there is nothing suspicious about the dns for this email"});default:return Object(O.jsx)("p",{children:"invalid email address or server error"})}}(t.overall_score),function(e){switch(e){case-1:return Object(O.jsx)("p",{children:"invalid email address"});case 0:return Object(O.jsx)("p",{children:"the mail server for this email exists, but it is rejecting all mail"});case 1:return Object(O.jsx)("p",{children:"the mail server for this email exists, but it is showing a temporary error which is suspicious"});case 2:return Object(O.jsx)("p",{children:"the mail server exists and accepts all mail"});case 3:return Object(O.jsx)("p",{children:"there is nothing suspicious about the mail server"});default:return Object(O.jsx)("p",{children:"invalid email address or server error"})}}(t.smtp_score),t.disposable&&Object(O.jsx)("p",{children:"This email is suspected of belonging to a temporary or disposable mail service. Usually associated with fraudsters and scammers."}),t.leaked&&Object(O.jsx)("p",{children:"This email address is associated with a recent database leak from a third party. Leaked accounts pose a risk as they may have become compromised during a database breach."}),t.recent_abuse&&Object(O.jsx)("p",{children:"There has been recent verified abuse with this email address. Abuse could be a confirmed chargeback, fake signup, compromised device, fake app install, or similar malicious behavior within the past few days."}),t.honeypot&&Object(O.jsx)("p",{children:"This email is believed to be a SPAM trap, AKA a honeypot. Bulk mail sent to these emails increases your risk of being blacklisted by large ISPs and ending up in the spam folder."})]}):Object(O.jsx)("p",{children:"For best results, enter a valid email"})}function R(){console.debug("EMAIL COMPONENT");var e=Object(n.useState)(""),t=Object(l.a)(e,2),r=t[0],a=t[1],s=Object(n.useState)({}),c=Object(l.a)(s,2),u=c[0],j=c[1];function d(){return(d=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,L.investigate({type:"email",investigate:r});case 3:n=e.sent.data,console.log(n),j(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(O.jsxs)("div",{className:"Email",children:[Object(O.jsx)(S.a,{children:Object(O.jsxs)(E.a,{children:[Object(O.jsx)("p",{children:"Enter an email to test its reputation."}),Object(O.jsxs)("form",{className:"form-inline",onSubmit:function(e){return d.apply(this,arguments)},children:[Object(O.jsx)("label",{children:"Email:"}),Object(O.jsx)("input",{className:"form-control form-control-md",name:"email",placeholder:"email",value:r,onChange:function(e){var t=e.target.value;a(t)}}),Object(O.jsx)("button",{type:"submit",className:"authButton btn btn-lg btn-primary",children:"Investigate"})]})]})}),u.message&&Object(O.jsx)(B,{data:u})]})}function D(e){var t=e.data;console.debug("RESPONSE COMPONENT");var r=100-t.risk_score;return 0===t.page_size?Object(O.jsx)("p",{children:"For best results, enter a valid url. Also, the url you entered may be unreachable."}):Object(O.jsxs)("div",{className:"UrlResponse",children:[Object(O.jsxs)("h5",{children:["This url is ",r,"% safe"]}),Object(O.jsx)("div",{className:"progress",children:Object(O.jsx)("div",{id:"progressBar",className:"progress-bar",role:"progressbar",style:{width:"".concat(r,"%")},"aria-valuenow":r,"aria-valuemin":"0","aria-valuemax":"100"})}),Object(O.jsxs)("p",{children:["The type of content on this site falls into the category: ",t.category]}),t.spamming&&Object(O.jsx)("p",{children:"The domain of this URL is associated with email SPAM or abusive email addresses."}),t.malware&&Object(O.jsx)("p",{children:"This url is associated with malware and viruses."}),t.phishing&&Object(O.jsx)("p",{children:"This url has been found to be associated with malicious phishing behavior."}),t.dns_valid&&Object(O.jsx)("p",{children:"The domain of this URL has valid dns records."})]})}function F(){console.debug("URL COMPONENT");var e=Object(n.useState)(""),t=Object(l.a)(e,2),r=t[0],a=t[1],s=Object(n.useState)({}),c=Object(l.a)(s,2),u=c[0],j=c[1];function d(){return(d=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,L.investigate({type:"url",investigate:encodeURIComponent(r)});case 3:n=e.sent.data,console.log("CHECKPOINT"),console.log(n),j(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(O.jsxs)("div",{className:"Url",children:[Object(O.jsx)(S.a,{children:Object(O.jsxs)(E.a,{children:[Object(O.jsx)("p",{children:"Enter an url to test its reputation."}),Object(O.jsxs)("form",{className:"form-inline",onSubmit:function(e){return d.apply(this,arguments)},children:[Object(O.jsx)("label",{children:"Url:"}),Object(O.jsx)("input",{className:"form-control form-control-md",name:"url",placeholder:"url",value:r,onChange:function(e){var t=e.target.value;a(t)}}),Object(O.jsx)("button",{type:"submit",className:"authButton btn btn-lg btn-primary",children:"Investigate"})]})]})}),u.message&&Object(O.jsx)(D,{data:u})]})}var q=r(375);function M(e){var t=e.HistoryItems;return console.log(t),t=t.map((function(e){return Object(O.jsxs)("li",{children:[Object(O.jsx)("h5",{children:e.item}),Object(O.jsxs)("p",{children:["type: ",e.type]}),Object(O.jsxs)("p",{children:["safety score out of 100: ",e.score]})]},Object(q.a)())})),Object(O.jsx)("div",{className:"UserHistory",children:Object(O.jsx)("ul",{children:t})})}function G(e){var t=e.logout,r=Object(b.c)((function(e){return e.currUser})),a=Object(d.f)(),s=Object(n.useState)(!1),c=Object(l.a)(s,2),u=c[0],j=c[1],h=Object(n.useState)(!0),p=Object(l.a)(h,2),m=p[0],f=p[1],x=Object(n.useState)({}),v=Object(l.a)(x,2),g=v[0],y=v[1];Object(n.useEffect)((function(){function e(){return(e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.getUserHistory(r.email);case 3:t=e.sent,y(t),f(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("UserHistory get: issue loading history",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}j(!0),m&&function(){e.apply(this,arguments)}(),j(!1)}),[m,r]);return u?Object(O.jsx)("p",{children:"Loading \u2026"}):Object(O.jsxs)("div",{className:"Profile",children:[Object(O.jsx)("div",{id:"title",children:Object(O.jsx)("h1",{children:"Your Profile"})}),Object(O.jsx)("div",{id:"profile_content",children:Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-4",children:Object(O.jsx)("img",{id:"profile_page_pic",src:r.profile_pic,width:"250",height:"250",alt:r.username})}),Object(O.jsx)("div",{className:"col-2"}),Object(O.jsx)("div",{className:"col-5",id:"right_profile_div",children:Object(O.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(O.jsx)("li",{className:"list-group-item",children:Object(O.jsxs)("span",{children:["Display name: ",r.username]})}),Object(O.jsx)("li",{className:"list-group-item",children:Object(O.jsxs)("span",{children:["Email: ",r.email]})}),Object(O.jsx)("li",{className:"list-group-item",children:Object(O.jsx)("button",{onClick:function(){a.push("/edit-profile")},className:"btn btn-lrg btn-warning",children:"Edit"})}),Object(O.jsx)("li",{className:"list-group-item",children:Object(O.jsx)("button",{onClick:function(){L.delCurrUser(r.email),a.push("/"),t()},className:"btn btn-lrg btn-danger",children:"Delete Account"})}),Object(O.jsx)("li",{className:"list-group-item",children:Object(O.jsx)("button",{onClick:function(){L.dumpUserHistory(r.email),f(!0)},className:"btn btn-lrg btn-danger",children:"Clear Your History"})})]})}),Object(O.jsx)("div",{className:"col-1"})]})}),g.history&&Object(O.jsx)(M,{HistoryItems:g.history.rows})]})}function K(){var e=Object(n.useState)({username:"",profile_pic:""}),t=Object(l.a)(e,2),r=t[0],a=t[1],s=Object(b.b)(),c=Object(b.c)((function(e){return e.currUser}));console.log(c);var u=Object(d.f)();function j(){return(j=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,L.editCurrUser(r);case 3:n=e.sent,console.log("CHECKPOINT"),console.log(n),n.user.email=c.email,s({type:"BEGIN_AUTH_SESSION",user:n.user}),u.push("/profile");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){var t=e.target,r=t.name,n=t.value;a((function(e){return Object(k.a)(Object(k.a)({},e),{},Object(N.a)({},r,n))}))}return Object(O.jsxs)("div",{className:"EditProfile",children:[Object(O.jsx)("div",{id:"title",children:Object(O.jsx)("h1",{children:"Your Profile"})}),Object(O.jsx)("div",{id:"profile_content",children:Object(O.jsx)(S.a,{children:Object(O.jsxs)(E.a,{children:[Object(O.jsx)("p",{children:"Edit details for your account."}),Object(O.jsxs)("form",{className:"form-inline",onSubmit:function(e){return j.apply(this,arguments)},children:[Object(O.jsx)("label",{children:"Username:"}),Object(O.jsx)("input",{className:"form-control form-control-md",name:"username",placeholder:"username",value:r.username,onChange:h}),Object(O.jsx)("label",{children:"Profile Picture Url:"}),Object(O.jsx)("input",{className:"form-control form-control-md",name:"profile_pic",placeholder:"profile_pic",value:r.profile_pic,onChange:h}),Object(O.jsx)("button",{type:"submit",className:"authButton btn btn-lg btn-primary",children:"Edit"})]})]})})})]})}function W(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],a=t[1],s=Object(n.useState)(!0),c=Object(l.a)(s,2),u=c[0],j=c[1],d=Object(n.useState)([]),h=Object(l.a)(d,2),b=h[0],p=h[1];Object(n.useEffect)((function(){function e(){return(e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.getSiteHistory();case 3:t=e.sent,p(t.history.rows),j(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("SiteHistory get: issue loading history",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}a(!0),u&&function(){e.apply(this,arguments)}(),a(!1)}),[u]),console.log(b);var m=b.map((function(e){return Object(O.jsxs)("li",{children:[Object(O.jsx)("h5",{children:e.item}),Object(O.jsxs)("p",{children:["type: ",e.type]}),Object(O.jsxs)("p",{children:["safety score out of 100: ",e.score]})]},Object(q.a)())}));return r?Object(O.jsx)("p",{children:"Loading \u2026"}):Object(O.jsx)("div",{className:"Home",children:Object(O.jsx)("ul",{children:m})})}function Y(e){var t=e.signup,r=e.login,n=e.logout,a=Object(b.c)((function(e){return e.currUser}));console.log(a);var s=Object(O.jsxs)(d.c,{children:[Object(O.jsx)(d.a,{exact:!0,path:"/",children:Object(O.jsx)(f,{})}),Object(O.jsx)(d.a,{path:"/email",children:Object(O.jsx)(R,{})}),Object(O.jsx)(d.a,{path:"/url",children:Object(O.jsx)(F,{})}),Object(O.jsx)(d.a,{path:"/home",children:Object(O.jsx)(W,{})}),Object(O.jsx)(d.a,{path:"/profile",children:Object(O.jsx)(G,{logout:n})}),Object(O.jsx)(d.a,{path:"/edit-profile",children:Object(O.jsx)(K,{})}),Object(O.jsx)(d.a,{children:Object(O.jsx)("p",{children:"Hmmm. I can't seem to find what you want."})})]}),c=Object(O.jsxs)(d.c,{children:[Object(O.jsx)(d.a,{exact:!0,path:"/",children:Object(O.jsx)(f,{})}),Object(O.jsx)(d.a,{path:"/email",children:Object(O.jsx)(R,{})}),Object(O.jsx)(d.a,{path:"/login",children:Object(O.jsx)(C,{login:r})}),Object(O.jsx)(d.a,{path:"/sign-up",children:Object(O.jsx)(_,{signup:t})}),Object(O.jsx)(d.a,{children:Object(O.jsx)("p",{children:"Hmmm. I can't seem to find what you want. You may need to be authorized before visiting this page."})})]});return console.log(!!a.username),console.log(a.username?s:c),Object(O.jsxs)(h.a,{children:[Object(O.jsx)(w,{logout:n}),Object(O.jsx)("main",{children:a.username?s:c})]})}r(348);function z(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],a=t[1],s=Object(n.useState)(""),c=Object(l.a)(s,2),u=c[0],d=c[1],h=Object(b.b)();function p(){return(p=Object(o.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.signup(t);case 3:return r=e.sent,d(r),localStorage.setItem("token",r),L.token=r,e.abrupt("return",{worked:!0});case 10:return e.prev=10,e.t0=e.catch(0),console.error("There was an error while signing up",e.t0),e.abrupt("return",{worked:!1,errors:e.t0});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function m(){return(m=Object(o.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.login(t);case 3:return r=e.sent,console.log(r),d(r),localStorage.setItem("token",r),L.token=r,e.abrupt("return",{worked:!0});case 11:return e.prev=11,e.t0=e.catch(0),console.error("There was an error while logging in",e.t0),e.abrupt("return",{worked:!1,errors:e.t0});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function f(){return(f=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(null),h({type:"END_AUTH_SESSION"}),localStorage.removeItem("token"),console.debug("SUCCESSFULLY LOGGED OUT");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){function e(){return(e=Object(o.a)(i.a.mark((function e(){var t,r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=j.a.decode(u),r=t.email,e.next=4,L.getCurrUser(r);case 4:return n=e.sent,e.next=7,n;case 7:L.user=e.sent,h({type:"BEGIN_AUTH_SESSION",user:n}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("App getUser: issue loading user",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}a(!0),u&&function(){e.apply(this,arguments)}(),a(!1)}),[u,h]),r?Object(O.jsx)("p",{children:"Loading \u2026"}):Object(O.jsx)("div",{className:"App",children:Object(O.jsx)(Y,{signup:function(e){return p.apply(this,arguments)},login:function(e){return m.apply(this,arguments)},logout:function(){return f.apply(this,arguments)}})})}var J=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,380)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;r(e),n(e),a(e),s(e),c(e)}))},V=(r(349),r(72)),Q=r(182),X={currUser:{}};var Z=r(183),$=Object(V.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BEGIN_AUTH_SESSION":return{currUser:t.user};case"END_AUTH_SESSION":return{currUser:{}};case"FETCH_USER":return e.currUser;default:return e}}),Object(Z.composeWithDevTools)(Object(V.applyMiddleware)(Q.a)));s.a.render(Object(O.jsx)(b.a,{store:$,children:Object(O.jsx)(z,{})}),document.getElementById("root")),J()}},[[350,1,2]]]);
//# sourceMappingURL=main.c95b163e.chunk.js.map