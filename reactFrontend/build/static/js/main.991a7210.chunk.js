(this["webpackJsonpsecurity-multitool"]=this["webpackJsonpsecurity-multitool"]||[]).push([[0],{255:function(e,t,r){},268:function(e,t,r){},269:function(e,t,r){},321:function(e,t,r){},326:function(e,t){},328:function(e,t){},343:function(e,t){},345:function(e,t){},373:function(e,t){},375:function(e,t){},376:function(e,t){},381:function(e,t){},383:function(e,t){},389:function(e,t){},391:function(e,t){},410:function(e,t){},422:function(e,t){},425:function(e,t){},447:function(e,t,r){},583:function(e,t,r){},584:function(e,t,r){},585:function(e,t,r){},593:function(e,t,r){},595:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(34),s=r.n(c),i=(r(321),r(9)),o=r.n(i),l=r(19),u=r(5),j=r(290),b=r.n(j),d=r(23),h=r(27),p=r(29),O=r(24),m=r(655),f=r(661),x=(r(447),r(1));function v(){return Object(x.jsxs)("div",{className:"Landing",children:[Object(x.jsx)("h1",{children:"RAMT"}),Object(x.jsx)("h5",{children:"home of the Reputation Analyses Multi Tool"}),Object(x.jsxs)("p",{id:"authButtons",children:[Object(x.jsx)(f.a,{component:p.b,to:"/sign-up",className:"authButtonsLeft",children:Object(x.jsx)(m.a,{variant:"contained",children:"sign up"})}),Object(x.jsx)(f.a,{component:p.b,to:"/login",className:"authButtonsRight",children:Object(x.jsx)(m.a,{variant:"contained",children:"log in"})})]})]})}var g=r(643),y=r(662),w=r(644),k=Object(g.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.text.secondary}}}));function N(e){var t=e.logout,r=k(),n=Object(O.c)((function(e){return e.currUser}));return Object(x.jsx)("div",{className:r.root,children:Object(x.jsx)(y.a,{position:"static",children:Object(x.jsxs)(w.a,{children:[n.username?Object(x.jsx)(f.a,{component:p.b,to:"/home",children:Object(x.jsx)(m.a,{variant:"outlined",children:"RAMT"})}):Object(x.jsx)(f.a,{component:p.b,to:"/",children:Object(x.jsx)(m.a,{variant:"outlined",children:"RAMT"})}),Object(x.jsx)("div",{className:"position-absolute end-0",children:n.username?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(f.a,{component:p.b,to:"/email",children:Object(x.jsx)(m.a,{children:"Email"})}),Object(x.jsx)(f.a,{component:p.b,to:"/url",children:Object(x.jsx)(m.a,{children:"Url"})}),Object(x.jsx)(f.a,{component:p.b,to:"/profile",children:Object(x.jsx)(m.a,{children:"Profile"})}),Object(x.jsx)(f.a,{component:p.b,to:"/",onClick:t,children:Object(x.jsx)(m.a,{children:"Log out"})})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(f.a,{component:p.b,to:"/sign-up",children:Object(x.jsx)(m.a,{children:"sign up"})}),Object(x.jsx)(f.a,{component:p.b,to:"/login",children:Object(x.jsx)(m.a,{children:"log in"})})]})})]})})})}var S=r(6),C=r(645),T=r(646),I=r(658);r(255);var U=function(e){var t=e.login,r=Object(h.f)(),a=Object(O.b)();console.debug("Log in form");var c=Object(n.useState)({username:"",password:""}),s=Object(u.a)(c,2),i=s[0],j=s[1],b=Object(n.useState)([]),p=Object(u.a)(b,2),f=p[0],v=p[1];function g(e){return y.apply(this,arguments)}function y(){return(y=Object(l.a)(o.a.mark((function e(n){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,t(i);case 3:if(!(c=e.sent).worked){e.next=10;break}return e.next=7,a({type:"LOCATION_CHANGE",location:"/login"});case 7:r.push("/home"),e.next=11;break;case 10:v(c.errors);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){var t=e.target,r=t.name,n=t.value;j((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(S.a)({},r,n))}))}return Object(x.jsx)("div",{className:"LoginForm col-md-6 col-lg-4",children:Object(x.jsx)(C.a,{children:Object(x.jsxs)(T.a,{children:[Object(x.jsxs)("form",{className:"form-inline",onSubmit:g,children:[Object(x.jsx)("label",{children:"Username:"}),Object(x.jsx)("input",{className:"form-control form-control-md",name:"username",placeholder:"username",value:i.username,onChange:w}),Object(x.jsx)("label",{children:"Password:"}),Object(x.jsx)("input",{className:"form-control form-control-md",id:"bottomInput",type:"password",name:"password",placeholder:"password",value:i.password,onChange:w}),Object(x.jsx)(m.a,{variant:"contained",color:"primary",className:"authButton",onClick:g,children:"log in"})]}),f.length>0&&Object(x.jsx)(I.a,{color:"danger",children:f})]})})})};function A(e){var t=e.signup,r=Object(h.f)(),a=Object(O.b)();console.debug("Sign up form");var c=Object(n.useState)({username:"",password:"",email:"",profile_pic:""}),s=Object(u.a)(c,2),i=s[0],j=s[1],b=Object(n.useState)([]),p=Object(u.a)(b,2),f=p[0],v=p[1];function g(e){return y.apply(this,arguments)}function y(){return(y=Object(l.a)(o.a.mark((function e(n){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,t(i);case 3:if(!(c=e.sent).worked){e.next=10;break}return e.next=7,a({type:"LOCATION_CHANGE",location:"/sign-up"});case 7:r.push("/home"),e.next=11;break;case 10:v(c.errors);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){var t=e.target,r=t.name,n=t.value;j((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(S.a)({},r,n))}))}return Object(x.jsx)("div",{className:"SignupForm col-md-6 col-lg-4",children:Object(x.jsx)(C.a,{className:"authFormCard",children:Object(x.jsxs)(T.a,{children:[Object(x.jsxs)("form",{className:"form-inline",onSubmit:g,children:[Object(x.jsx)("label",{children:"Username:"}),Object(x.jsx)("input",{className:"form-control form-control-md",name:"username",placeholder:"username",value:i.username,onChange:w}),Object(x.jsx)("label",{children:"Password:"}),Object(x.jsx)("input",{className:"form-control form-control-md",type:"password",name:"password",placeholder:"password",value:i.password,onChange:w}),Object(x.jsx)("label",{children:"Email:"}),Object(x.jsx)("input",{className:"form-control form-control-md",name:"email",placeholder:"email",value:i.email,onChange:w}),Object(x.jsx)("label",{children:"Profile Picture Url:"}),Object(x.jsx)("input",{className:"form-control form-control-md",id:"bottomInput",name:"profile_pic",placeholder:"url",value:i.profile_pic,onChange:w}),Object(x.jsx)(m.a,{variant:"contained",color:"primary",className:"authButton",onClick:g,children:"sign up"})]}),f.length>0&&f.map((function(e){return Object(x.jsx)(I.a,{color:"danger",children:e},e)}))]})})})}var E=r(14),H=r(12),_=r(293),L=r.n(_),B="https://reputation-analyses-multi-tool.herokuapp.com",P=function(){function e(){Object(E.a)(this,e)}return Object(H.a)(e,null,[{key:"request",value:function(){var t=Object(l.a)(o.a.mark((function t(r){var n,a,c,s,i,l,u=arguments;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},a=u.length>2&&void 0!==u[2]?u[2]:"get",console.debug("API Call:",r,n,a),c="".concat(B,"/").concat(r),s={Authorization:"Bearer ".concat(e.token)},i="get"===a?n:{},t.prev=6,t.next=9,L()({url:c,method:a,data:n,params:i,headers:s});case 9:return t.abrupt("return",t.sent.data);case 12:throw t.prev=12,t.t0=t.catch(6),console.error("API Error:",t.t0.response),l=t.t0.response.data.error.message,Array.isArray(l)?l:[l];case 17:case"end":return t.stop()}}),t,null,[[6,12]])})));return function(e){return t.apply(this,arguments)}}()},{key:"signup",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("auth/register",t,"post");case 2:return r=e.sent,e.abrupt("return",r.token);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("auth/token",t,"post");case 2:return r=e.sent,e.abrupt("return",r.token);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCurrUser",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("users/".concat(t));case 2:return r=e.sent,e.abrupt("return",r.user);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"investigate",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("investigate",t,"post");case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delCurrUser",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("users/".concat(t),{},"delete");case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editCurrUser",value:function(){var t=Object(l.a)(o.a.mark((function t(r){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request("users/".concat(e.user.email),r,"patch");case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"dumpUserHistory",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("uHist/".concat(t,"/dump"),{},"delete");case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserHistory",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("uHist/".concat(t));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSiteHistory",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("siteHist/".concat(t));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),F=(r(268),r(129)),D=r.n(F);function R(e){var t=e.data,r=e.open,n=100-t.fraud_score;return t.success&&0!==t.overall_score?Object(x.jsx)(C.a,{className:"Response responseCard",children:Object(x.jsxs)(T.a,{children:[Object(x.jsxs)("h5",{children:["This email is ",n,"% safe ",Object(x.jsx)(D.a,{id:"infoIcon",onClick:function(){return r()}})]}),Object(x.jsx)("div",{className:"progress",children:Object(x.jsx)("div",{id:"progressBar",className:"progress-bar",role:"progressbar",style:{width:"".concat(n,"%")},"aria-valuenow":n,"aria-valuemin":"0","aria-valuemax":"100"})}),function(e){switch(e){case 0:return Object(x.jsx)("p",{children:"invalid email address"});case 1:return Object(x.jsx)("p",{children:"the dns for this email is valid, but the mail server is unreachable"});case 2:return Object(x.jsx)("p",{children:"the dns for this email is valid, but there is a temporary mail rejection error"});case 3:return Object(x.jsx)("p",{children:"the dns for this email is valid, and accepts all mail"});case 4:return Object(x.jsx)("p",{children:"there is nothing suspicious about the dns for this email"});default:return Object(x.jsx)("p",{children:"invalid email address or server error"})}}(t.overall_score),function(e){switch(e){case-1:return Object(x.jsx)("p",{children:"invalid email address"});case 0:return Object(x.jsx)("p",{children:"the mail server for this email exists, but it is rejecting all mail"});case 1:return Object(x.jsx)("p",{children:"the mail server for this email exists, but it is showing a temporary error which is suspicious"});case 2:return Object(x.jsx)("p",{children:"the mail server exists and accepts all mail"});case 3:return Object(x.jsx)("p",{children:"there is nothing suspicious about the mail server"});default:return Object(x.jsx)("p",{children:"invalid email address or server error"})}}(t.smtp_score),t.disposable&&Object(x.jsx)("p",{children:"This email is suspected of belonging to a temporary or disposable mail service. Usually associated with fraudsters and scammers."}),t.leaked&&Object(x.jsx)("p",{children:"This email address is associated with a recent database leak from a third party. Leaked accounts pose a risk as they may have become compromised during a database breach."}),t.recent_abuse&&Object(x.jsx)("p",{children:"There has been recent verified abuse with this email address. Abuse could be a confirmed chargeback, fake signup, compromised device, fake app install, or similar malicious behavior within the past few days."}),t.honeypot&&Object(x.jsx)("p",{children:"This email is believed to be a SPAM trap, AKA a honeypot. Bulk mail sent to these emails increases your risk of being blacklisted by large ISPs and ending up in the spam folder."})]})}):Object(x.jsx)(I.a,{className:"redAlert",color:"danger",children:"For best results, enter a valid email"})}var G=r(668),M=r(654),q=r(663),z=r(667),W=r(665),Y=r(666),K=r(664);r(269);function J(){var e=Object(O.c)((function(e){return e.currUser.email})),t=Object(n.useState)(""),r=Object(u.a)(t,2),a=r[0],c=r[1],s=Object(n.useState)({}),i=Object(u.a)(s,2),j=i[0],b=i[1],d=Object(n.useState)(!1),h=Object(u.a)(d,2),p=h[0],m=h[1],f=Object(n.useState)(!1),v=Object(u.a)(f,2),g=v[0],y=v[1],w=Object(n.useState)(""),k=Object(u.a)(w,2),N=k[0],S=k[1];function U(){return(U=Object(l.a)(o.a.mark((function t(r){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),m(!0),a.replace(/\s/g,"").length){t.next=6;break}S("Blank space is not a valid email address."),t.next=13;break;case 6:return S(""),t.next=9,P.investigate({type:"email",investigate:a,email:e});case 9:n=t.sent.data,console.log(n),500===n.status&&S("That email address is invalid or does not exist."),b(n);case 13:m(!1);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var A=function(){y(!1)};return Object(x.jsxs)("div",{className:"Email",children:[Object(x.jsx)(C.a,{className:"formCard",children:Object(x.jsxs)(T.a,{children:[Object(x.jsx)("p",{children:"Enter an email to test its reputation."}),Object(x.jsx)("small",{children:"Emails which are 100% safe are only saved to your history and are excluded from the site-wide history."}),Object(x.jsxs)("form",{className:"form-inline",onSubmit:function(e){return U.apply(this,arguments)},children:[Object(x.jsx)("label",{children:"Email:"}),Object(x.jsx)("input",{className:"form-control form-control-md",name:"email",placeholder:"email",value:a,onChange:function(e){var t=e.target.value;c(t)}}),Object(x.jsx)("button",{type:"submit",className:"authButton btn btn-lg btn-primary",children:"Investigate"})]})]})}),p&&Object(x.jsx)(q.a,{color:"secondary"}),j.message&&Object(x.jsx)(R,{data:j,open:function(){y(!0)}}),!!N&&Object(x.jsx)(I.a,{className:"redAlert",color:"danger",children:N}),Object(x.jsxs)(M.a,{open:g,onClose:A,"aria-labelledby":"dialog-title","aria-describedby":"dialog-description",children:[Object(x.jsx)(K.a,{id:"dialog-title",children:"Investigate Information"}),Object(x.jsx)(W.a,{children:Object(x.jsx)(Y.a,{id:"dialog-description",children:"The safety score is a percentage based on the email reputation and recent known behavior. A safety score below 25 is highly suspicious but not necessarily fraudulent."})}),Object(x.jsx)(z.a,{children:Object(x.jsx)(G.a,{onClick:A,autoFocus:!0,children:"close"})})]})]})}function Q(e){var t=e.data,r=e.open,n=100-t.risk_score;return t.success?Object(x.jsx)(C.a,{className:"UrlResponse responseCard",children:Object(x.jsxs)(T.a,{children:[Object(x.jsxs)("h5",{children:["This url is ",n,"% safe ",Object(x.jsx)(D.a,{id:"infoIcon",onClick:function(){return r()}})]}),Object(x.jsx)("div",{className:"progress",children:Object(x.jsx)("div",{id:"progressBar",className:"progress-bar",role:"progressbar",style:{width:"".concat(n,"%")},"aria-valuenow":n,"aria-valuemin":"0","aria-valuemax":"100"})}),Object(x.jsxs)("p",{children:["The type of content on this site falls into the category: ",t.category]}),t.spamming&&Object(x.jsx)("p",{children:"The domain of this URL is associated with email SPAM or abusive email addresses."}),t.malware&&Object(x.jsx)("p",{children:"This url is associated with malware and viruses."}),t.phishing&&Object(x.jsx)("p",{children:"This url has been found to be associated with malicious phishing behavior."}),t.dns_valid&&Object(x.jsx)("p",{children:"The domain of this URL has valid dns records."})]})}):Object(x.jsx)(I.a,{className:"redAlert",color:"danger",children:"For best results, enter a valid url. Also, the url you entered may be unreachable."})}function V(){var e=Object(O.c)((function(e){return e.currUser.email})),t=Object(n.useState)(""),r=Object(u.a)(t,2),a=r[0],c=r[1],s=Object(n.useState)({}),i=Object(u.a)(s,2),j=i[0],b=i[1],d=Object(n.useState)(!1),h=Object(u.a)(d,2),p=h[0],m=h[1],f=Object(n.useState)(!1),v=Object(u.a)(f,2),g=v[0],y=v[1],w=Object(n.useState)(""),k=Object(u.a)(w,2),N=k[0],S=k[1];function U(){return(U=Object(l.a)(o.a.mark((function t(r){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),m(!0),a.replace(/\s/g,"").length){t.next=6;break}S("Blank space is not a valid url/domain."),t.next=11;break;case 6:return S(""),t.next=9,P.investigate({type:"url",investigate:encodeURIComponent(a),email:e});case 9:n=t.sent.data,b(n);case 11:m(!1);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var A=function(){y(!1)};return Object(x.jsxs)("div",{className:"Url",children:[Object(x.jsx)(C.a,{className:"formCard",children:Object(x.jsxs)(T.a,{children:[Object(x.jsx)("p",{children:"Enter an url to test its reputation."}),Object(x.jsxs)("form",{className:"form-inline",onSubmit:function(e){return U.apply(this,arguments)},children:[Object(x.jsx)("label",{children:"Url:"}),Object(x.jsx)("input",{className:"form-control form-control-md",name:"url",placeholder:"url",value:a,onChange:function(e){var t=e.target.value;c(t)}}),Object(x.jsx)("button",{type:"submit",className:"authButton btn btn-lg btn-primary",children:"Investigate"})]})]})}),p&&Object(x.jsx)(q.a,{color:"secondary"}),j.message&&Object(x.jsx)(Q,{data:j,open:function(){y(!0)}}),!!N&&Object(x.jsx)(I.a,{className:"redAlert",color:"danger",children:N}),Object(x.jsxs)(M.a,{open:g,onClose:A,"aria-labelledby":"dialog-title","aria-describedby":"dialog-description",children:[Object(x.jsx)(K.a,{id:"dialog-title",children:"Investigate Information"}),Object(x.jsx)(W.a,{children:Object(x.jsx)(Y.a,{id:"dialog-description",children:"The safety score is a percentage based on the url/domain reputation and recent known behavior. A safety score below 25 is highly suspicious but not necessarily fraudulent."})}),Object(x.jsx)(z.a,{children:Object(x.jsx)(G.a,{onClick:A,autoFocus:!0,children:"close"})})]})]})}var X=r(89);r(583);function Z(e){var t=e.row,r={labels:["Safety %","Danger %"],datasets:[{label:"Safety",backgroundColor:["#C9DE00","#B21F00"],hoverBackgroundColor:["#4B5000","#501800"],data:[t.score,100-t.score]}]},n=t.time_created.split("T")[0];return Object(x.jsx)("li",{children:Object(x.jsx)(C.a,{children:Object(x.jsxs)(T.a,{className:"homeItemBody",children:[Object(x.jsx)("h3",{children:t.item}),Object(x.jsx)("div",{className:"Doughnut",children:Object(x.jsx)(X.b,{data:r,options:{title:{display:!0,text:"Safety",fontSize:20},legend:{display:!0,position:"right"},responsive:!0,maintainAspectRatio:!0}})}),Object(x.jsxs)("div",{className:"itemRight",children:[Object(x.jsxs)("strong",{className:t.type,children:["type: ",t.type]}),Object(x.jsxs)("p",{children:["date analysed: ",n]}),"popularity"in t&&Object(x.jsxs)("p",{children:["popularity score: ",t.popularity]})]})]})})})}function $(e){var t=e.HistoryItems;return t=t.map((function(e){return Object(x.jsx)(Z,{row:e})})),Object(x.jsx)("div",{className:"UserHistory",children:Object(x.jsx)("ul",{children:t})})}r(584);function ee(e){var t=e.logout,r=Object(O.c)((function(e){return e.currUser})),a=Object(h.f)(),c=Object(n.useState)(!1),s=Object(u.a)(c,2),i=s[0],j=s[1],b=Object(n.useState)(!0),d=Object(u.a)(b,2),p=d[0],m=d[1],f=Object(n.useState)({}),v=Object(u.a)(f,2),g=v[0],y=v[1],w=Object(n.useState)(!1),k=Object(u.a)(w,2),N=k[0],S=k[1];Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.getUserHistory(r.email);case 3:t=e.sent,y(t),m(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("UserHistory get: issue loading history",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}j(!0),p&&function(){e.apply(this,arguments)}(),j(!1)}),[p,r]);var C=function(){S(!1)};return i?Object(x.jsx)("p",{children:"Loading \u2026"}):Object(x.jsxs)("div",{className:"Profile",children:[Object(x.jsx)("div",{id:"title",children:Object(x.jsx)("h1",{children:"Profile Page"})}),Object(x.jsx)("div",{id:"profile_content",children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-4",children:Object(x.jsx)("img",{id:"profile_page_pic",src:r.profile_pic,width:"250",height:"250",alt:r.username})}),Object(x.jsx)("div",{className:"col-2"}),Object(x.jsx)("div",{className:"col-5",id:"right_profile_div",children:Object(x.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(x.jsx)("li",{className:"list-group-item",children:Object(x.jsxs)("span",{children:["Display name: ",r.username]})}),Object(x.jsx)("li",{className:"list-group-item",children:Object(x.jsxs)("span",{children:["Email: ",r.email]})}),Object(x.jsx)("li",{className:"list-group-item",children:Object(x.jsx)("button",{onClick:function(){a.push("/edit-profile")},className:"btn btn-lrg btn-warning",children:"Edit"})}),Object(x.jsx)("li",{className:"list-group-item",children:Object(x.jsx)("button",{onClick:function(){S(!0)},className:"btn btn-lrg btn-danger",children:"Delete Account"})}),Object(x.jsx)("li",{className:"list-group-item",children:Object(x.jsx)("button",{onClick:function(){P.dumpUserHistory(r.email),m(!0)},className:"btn btn-lrg btn-danger",children:"Clear Your History"})})]})}),Object(x.jsx)("div",{className:"col-1"})]})}),g.history&&Object(x.jsx)($,{HistoryItems:g.history.rows}),Object(x.jsxs)(M.a,{open:N,onClose:C,"aria-labelledby":"dialog-title","aria-describedby":"dialog-description",children:[Object(x.jsx)(K.a,{id:"dialog-title",children:"Are you sure you would like to delete your account?"}),Object(x.jsx)(W.a,{children:Object(x.jsx)(Y.a,{id:"dialog-description",children:"Deleting your account is permanent and will remove your history."})}),Object(x.jsxs)(z.a,{children:[Object(x.jsx)(G.a,{onClick:C,autoFocus:!0,children:"no"}),Object(x.jsx)(G.a,{onClick:function(){P.delCurrUser(r.email),a.push("/"),t()},autoFocus:!0,children:"yes"})]})]})]})}function te(e){var t=e.edit,r=Object(O.c)((function(e){return e.currUser})),a=Object(n.useState)({username:r.username,profile_pic:r.profile_pic}),c=Object(u.a)(a,2),s=c[0],i=c[1],j=Object(n.useState)(""),b=Object(u.a)(j,2),p=b[0],m=b[1],f=Object(h.f)();function v(){return(v=Object(l.a)(o.a.mark((function e(r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.preventDefault(),s.username?s.username.length>15?m("username cannot be more than 15 letters long"):(t(s),f.push("/profile")):m("username cannot be empty");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){var t=e.target,r=t.name,n=t.value;i((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(S.a)({},r,n))}))}return Object(x.jsxs)("div",{className:"EditProfile",children:[Object(x.jsx)("div",{id:"title",children:Object(x.jsx)("h1",{children:"Your Profile"})}),Object(x.jsx)("div",{id:"profile_content",children:Object(x.jsx)(C.a,{children:Object(x.jsxs)(T.a,{children:[Object(x.jsx)("p",{children:"Edit details for your account."}),Object(x.jsxs)("form",{className:"form-inline",onSubmit:function(e){return v.apply(this,arguments)},children:[Object(x.jsx)("label",{children:"Username:"}),Object(x.jsx)("input",{className:"form-control form-control-md",name:"username",placeholder:"username",value:s.username,onChange:g}),Object(x.jsx)("label",{children:"Profile Picture Url:"}),Object(x.jsx)("input",{className:"form-control form-control-md",name:"profile_pic",placeholder:"profile_pic",value:s.profile_pic,onChange:g}),Object(x.jsx)("button",{type:"submit",className:"authButton btn btn-lg btn-primary",children:"Edit"})]}),!!p&&Object(x.jsx)(I.a,{color:"danger",children:p})]})})})]})}var re=r(297),ne=r.n(re),ae=r(298),ce=r.n(ae),se=r(296),ie=r.n(se),oe=r(669),le=r(659),ue=r(653),je=(r(585),r(17)),be=r(133),de=r.n(be),he=a.a.memo((function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)([]),s=Object(u.a)(c,2),i=s[0],j=s[1],b=Object(n.useState)([]),d=Object(u.a)(b,2),h=d[0],p=d[1],O=Object(n.useState)(!0),m=Object(u.a)(O,2),f=m[0],v=m[1],g=Object(n.useState)(!1),y=Object(u.a)(g,2),w=y[0],k=y[1];Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.getSiteHistory("allTime");case 3:return t=e.sent,console.log(t.history.rows),e.abrupt("return",t.history.rows);case 8:e.prev=8,e.t0=e.catch(0),console.error("SiteHistory get: issue loading history",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}k(!0),r.length||function(){return e.apply(this,arguments)}().then((function(e){e.forEach((function(e){a((function(t){return[].concat(Object(je.a)(t),[e.item])})),j((function(t){return[].concat(Object(je.a)(t),[e.popularity])})),p((function(t){return[].concat(Object(je.a)(t),[e.score])}))}))})),k(!1)}),[]);var N={labels:r,datasets:[{label:"Times This Item Has Been Investigated",backgroundColor:"rgba(222, 243, 253)",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:i}]},S={labels:r,datasets:[{label:"Safety Score (100 is completely safe)",backgroundColor:"rgba(253, 223, 223)",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:h}]};return Object(x.jsxs)("div",{className:"AllTime historyGraph",children:[w&&Object(x.jsx)(q.a,{color:"secondary"}),!w&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{children:"All Time Most Popular Items"}),Object(x.jsx)(X.a,{className:"BarGraph",data:f?S:N,options:{title:{display:!0,text:"Top Ten Must Popular Items",fontSize:20},legend:{display:!0,position:"right"}}}),Object(x.jsx)(de.a,{labelLeft:"popularity",labelRight:"score",styleLabelLeft:{color:"rgb(0,0,153)"},styleLabelRight:{color:"rgb(153,0,0)"},onChange:function(){return v(!f)}}),Object(x.jsx)("p",{children:"The popularity score is determined by how many times each item has been investigated."})]})]})})),pe=a.a.memo((function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)([]),s=Object(u.a)(c,2),i=s[0],j=s[1],b=Object(n.useState)([]),d=Object(u.a)(b,2),h=d[0],p=d[1],O=Object(n.useState)(!0),m=Object(u.a)(O,2),f=m[0],v=m[1],g=Object(n.useState)(!1),y=Object(u.a)(g,2),w=y[0],k=y[1];Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.getSiteHistory("Hot");case 3:return t=e.sent,console.log(t.history.rows),e.abrupt("return",t.history.rows);case 8:e.prev=8,e.t0=e.catch(0),console.error("SiteHistory get: issue loading history",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}k(!0),r.length||function(){return e.apply(this,arguments)}().then((function(e){e.forEach((function(e){a((function(t){return[].concat(Object(je.a)(t),[e.item])})),j((function(t){return[].concat(Object(je.a)(t),[e.popularity])})),p((function(t){return[].concat(Object(je.a)(t),[e.score])}))}))})),k(!1)}),[]);var N={labels:r,datasets:[{label:"Times This Item Has Been Investigated",backgroundColor:"rgba(222, 243, 253)",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:i}]},S={labels:r,datasets:[{label:"Safety Score (100 is completely safe)",backgroundColor:"rgba(253, 223, 223)",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:h}]};return Object(x.jsxs)("div",{className:"historyGraph",children:[w&&Object(x.jsx)(q.a,{color:"secondary"}),!w&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{children:"Most Popular Items Over The Past Seven Days"}),Object(x.jsx)(X.a,{className:"BarGraph",data:f?S:N,options:{title:{display:!0,text:"Top Ten Must Popular Items",fontSize:20},legend:{display:!0,position:"right"}}}),Object(x.jsx)(de.a,{labelLeft:"popularity",labelRight:"score",styleLabelLeft:{color:"rgb(0,0,153)"},styleLabelRight:{color:"rgb(153,0,0)"},onChange:function(){return v(!f)}}),Object(x.jsx)("p",{children:"The popularity score is determined by how many times each item has been investigated."})]})]})})),Oe=r(657);function me(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),r=t[0],a=t[1];Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("INSIDE HOME HOOK"),e.next=4,P.getSiteHistory("all");case 4:t=e.sent,a(t.history.rows),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("SiteHistory get: issue loading history",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var c=r.map((function(e){return Object(x.jsx)(Z,{row:e},Object(Oe.a)())}));return Object(x.jsx)("ul",{className:"history",children:c})}var fe=a.a.memo((function(){var e=Object(O.c)((function(e){return e.currUser})),t=Object(O.c)((function(e){return e.prevLocation})),r=Object(O.b)(),a=Object(n.useState)(!1),c=Object(u.a)(a,2),s=c[0],i=c[1],o=Object(n.useState)("history"),l=Object(u.a)(o,2),j=l[0],b=l[1];"/login"!==t&&"/sign-up"!==t||(i(!0),r({type:"LOCATION_CHANGE",location:"/home"}));var d=function(){i(!1)};return Object(x.jsxs)("div",{className:"Home",children:[Object(x.jsxs)(le.a,{id:"rangeBar",orientation:"vertical",value:j,exclusive:!0,onChange:function(e,t){b(t),console.log(t)},children:[Object(x.jsx)(ue.a,{title:"Recent History",placement:"right",children:Object(x.jsx)(oe.a,{value:"history","aria-label":"history",children:Object(x.jsx)(ie.a,{})})}),Object(x.jsx)(ue.a,{title:"Hot",placement:"right",children:Object(x.jsx)(oe.a,{value:"hot","aria-label":"hot",children:Object(x.jsx)(ne.a,{})})}),Object(x.jsx)(ue.a,{title:"All Time",placement:"right",children:Object(x.jsx)(oe.a,{value:"allTime","aria-label":"allTime",children:Object(x.jsx)(ce.a,{})})})]}),"history"===j?Object(x.jsx)(me,{}):"hot"===j?Object(x.jsx)(pe,{}):Object(x.jsx)(he,{}),Object(x.jsxs)(M.a,{open:s,onClose:d,"aria-labelledby":"dialog-title","aria-describedby":"dialog-description",children:[Object(x.jsxs)(K.a,{id:"dialog-title",children:["Welcome back ",e.username]}),Object(x.jsx)(W.a,{children:Object(x.jsxs)(Y.a,{id:"dialog-description",children:["You are now authorized to use the Reputation Analyses Multi Tool.",Object(x.jsx)("br",{}),"Please, enjoy your stay."]})}),Object(x.jsx)(z.a,{children:Object(x.jsx)(G.a,{onClick:d,autoFocus:!0,children:"Let's go"})})]})]})}));function xe(e){var t=e.signup,r=e.login,n=e.logout,a=e.edit,c=Object(O.c)((function(e){return e.currUser})),s=Object(x.jsxs)(h.c,{children:[Object(x.jsx)(h.a,{exact:!0,path:"/",render:function(e){return Object(x.jsx)(fe,Object(d.a)({},e))}}),Object(x.jsx)(h.a,{path:"/email",children:Object(x.jsx)(J,{})}),Object(x.jsx)(h.a,{path:"/url",children:Object(x.jsx)(V,{})}),Object(x.jsx)(h.a,{path:"/home",render:function(e){return Object(x.jsx)(fe,Object(d.a)({},e))}}),Object(x.jsx)(h.a,{path:"/profile",children:Object(x.jsx)(ee,{logout:n})}),Object(x.jsx)(h.a,{path:"/edit-profile",children:Object(x.jsx)(te,{edit:a})}),Object(x.jsx)(h.a,{children:Object(x.jsx)("p",{children:"Hmmm. I can't seem to find what you want."})})]}),i=Object(x.jsxs)(h.c,{children:[Object(x.jsx)(h.a,{exact:!0,path:"/",children:Object(x.jsx)(v,{})}),Object(x.jsx)(h.a,{path:"/login",children:Object(x.jsx)(U,{login:r})}),Object(x.jsx)(h.a,{path:"/sign-up",children:Object(x.jsx)(A,{signup:t})}),Object(x.jsx)(h.a,{children:Object(x.jsx)("p",{children:"Hmmm. I can't seem to find what you want. You may need to be authorized before visiting this page."})})]});return Object(x.jsxs)(p.a,{children:[Object(x.jsx)(N,{logout:n}),Object(x.jsx)("main",{children:c.username?s:i})]})}r(593);var ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=localStorage.getItem(e)||t,a=Object(n.useState)(r),c=Object(u.a)(a,2),s=c[0],i=c[1];return Object(n.useEffect)((function(){null===s?localStorage.removeItem(e):localStorage.setItem(e,s)}),[e,s]),[s,i]};function ge(){var e=ve("start token"),t=Object(u.a)(e,2),r=t[0],a=t[1],c=Object(O.b)();function s(){return(s=Object(l.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.signup(t);case 3:return r=e.sent,a(r),P.token=r,e.abrupt("return",{worked:!0});case 9:return e.prev=9,e.t0=e.catch(0),console.error("There was an error while signing up",e.t0),e.abrupt("return",{worked:!1,errors:e.t0});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function i(){return(i=Object(l.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.login(t);case 3:return r=e.sent,a(r),P.token=r,e.abrupt("return",{worked:!0});case 9:return e.prev=9,e.t0=e.catch(0),console.error("There was an error while logging in",e.t0),e.abrupt("return",{worked:!1,errors:e.t0});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function j(){return(j=Object(l.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.editCurrUser(t);case 3:return r=e.sent.token,a(r),P.token=r,e.abrupt("return",{worked:!0});case 9:return e.prev=9,e.t0=e.catch(0),console.error("There was an error while editing your profile",e.t0),e.abrupt("return",{worked:!1,errors:e.t0});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function d(){return(d=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(null),c({type:"END_AUTH_SESSION"}),console.debug("SUCCESSFULLY LOGGED OUT");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("INSIDE APP HOOK"),t=b.a.decode(r),n=t.email,P.token||(P.token=r),e.next=6,P.getCurrUser(n);case 6:return a=e.sent,P.user=a,e.next=10,c({type:"BEGIN_AUTH_SESSION",user:a});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("App getUser: issue loading user",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}r&&function(){e.apply(this,arguments)}()}),[r,c]),Object(x.jsx)("div",{className:"App",children:Object(x.jsx)(xe,{signup:function(e){return s.apply(this,arguments)},login:function(e){return i.apply(this,arguments)},logout:function(){return d.apply(this,arguments)},edit:function(e){return j.apply(this,arguments)}})})}var ye=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,672)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),n(e),a(e),c(e),s(e)}))},we=(r(594),r(134)),ke=r(299),Ne={currUser:{},prevLocation:""};var Se=r(300),Ce=Object(we.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BEGIN_AUTH_SESSION":return Object(d.a)(Object(d.a)({},e),{},{currUser:t.user});case"END_AUTH_SESSION":return Object(d.a)(Object(d.a)({},e),{},{currUser:{}});case"FETCH_USER":return e.currUser;case"LOCATION_CHANGE":return console.log(t),console.log(t.location),console.log(Object(d.a)(Object(d.a)({},e),{},{prevLocation:t.location})),Object(d.a)(Object(d.a)({},e),{},{prevLocation:t.location});default:return e}}),Object(Se.composeWithDevTools)(Object(we.applyMiddleware)(ke.a)));s.a.render(Object(x.jsx)(O.a,{store:Ce,children:Object(x.jsx)(ge,{})}),document.getElementById("root")),ye()}},[[595,1,2]]]);
//# sourceMappingURL=main.991a7210.chunk.js.map